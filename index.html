<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PesaPocket - Smart Finance & HR for African SMEs</title>
    <link rel="icon" href="Pesa (1).png" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --pesapocket-green: #2A613C; /* Main PesaPocket Green */
            --pesapocket-green-cta-end: #16a34a; /* Darker green for gradient end */
            --pesapocket-yellow: #F2A900;
            --pesapocket-yellow-gradient-end: #eab308; /* For yellow gradient */
            --pesapocket-black: #000000;
            --jemhr-primary-text: #1E293B; 
            --jemhr-secondary-text: #475569; 
            --jemhr-background-light: #F8FAFC; 
            
            --whatsapp-bg-pattern-claude: #e5ddd5;
            --whatsapp-header-bg-claude: #075e54;
            --whatsapp-chat-bg-user-claude: #dcf8c6;
            --whatsapp-chat-bg-bot-claude: #ffffff;
            --whatsapp-input-bg-claude: #f0f0f0;   
            --whatsapp-send-button-bg-claude: #25d366; 
            --whatsapp-online-dot-claude: #22c55e;   
            --whatsapp-bot-option-bg-claude: #f0f9ff; 
            --whatsapp-bot-option-border-claude: #22c55e; 
        }

        body { /* Base body styles for the overall page */
            font-family: 'Inter', sans-serif; 
            color: var(--jemhr-primary-text);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .bg-pesapocket-green { background-color: var(--pesapocket-green); }
        .text-pesapocket-green { color: var(--pesapocket-green); }
        .border-pesapocket-green { border-color: var(--pesapocket-green); }

        .bg-pesapocket-yellow { background-color: var(--pesapocket-yellow); }
        .text-pesapocket-yellow { color: var(--pesapocket-yellow); }

        .text-pesapocket-black { color: var(--pesapocket-black); }
        
        .bg-jemhr-background-light { background-color: var(--jemhr-background-light); }

        .nav-link {
            @apply text-sm font-medium text-gray-600 hover:text-pesapocket-green transition-colors duration-200;
        }
        
        .pesapocket-gradient-button {
            background: linear-gradient(135deg, var(--pesapocket-green), var(--pesapocket-green-cta-end));
            @apply text-white; 
        }
        .pesapocket-outline-button {
            color: var(--pesapocket-green);
            border-color: #e2e8f0; 
            @apply bg-white border-2; 
        }
        .pesapocket-outline-button:hover {
            border-color: var(--pesapocket-green);
            background-color: var(--pesapocket-green);
            color: white;
        }
        .salary-advance-action-button-main-page { /* For the button in "Coming Soon" text part */
            background: linear-gradient(135deg, var(--pesapocket-yellow), var(--pesapocket-yellow-gradient-end));
            @apply text-pesapocket-black; 
        }

        .btn-ai-explain {
             @apply mt-4 text-sm text-pesapocket-green font-medium hover:text-pesapocket-yellow transition-colors duration-200 py-1;
        }

        .section-heading {
            @apply text-3xl md:text-4xl font-bold text-pesapocket-black mb-5 text-center;
        }
        .section-subheading {
            @apply text-lg text-gray-600 mb-10 md:mb-12 text-center max-w-2xl mx-auto;
        }

        .feature-item-card {
            @apply bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 flex flex-col;
        }
        .feature-item-card .icon-container {
             @apply w-12 h-12 rounded-lg bg-pesapocket-green bg-opacity-10 flex items-center justify-center mb-4;
        }
         .feature-item-card .icon-container i {
            @apply text-2xl text-pesapocket-green;
        }
        
        html {
            scroll-behavior: smooth;
        }
        .navbar-sticky {
            @apply sticky top-0 z-50 bg-white/90 backdrop-blur-md shadow-sm transition-all duration-300;
        }
        .navbar-transparent {
             @apply sticky top-0 z-50 bg-transparent transition-all duration-300;
        }

        /* Modal Styles */
        .modal-overlay {
            @apply fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] transition-opacity duration-300;
        }
        .modal-container {
            @apply bg-white p-6 md:p-8 rounded-lg shadow-xl max-w-lg w-full mx-4 transform transition-all duration-300 scale-95 opacity-0;
        }
        .modal-overlay.active .modal-container {
            @apply scale-100 opacity-100;
        }
        .modal-overlay.active {
            @apply opacity-100;
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: var(--pesapocket-green);
            animation: spin 1s ease infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* === START OF GEMINI SALARY ADVANCE MOCKUP CSS === */
        .gemini-card-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        @media (min-width: 768px) {
            .gemini-card-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        .gemini-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .gemini-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .gemini-card-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 1.5rem;
        }

        .gemini-balance-section {
            text-align: center;
            padding: 1.5rem;
            background: #f7fafc;
            border-radius: 8px;
            margin-bottom: 2rem;
        }

        .gemini-balance-label {
            font-size: 0.875rem;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
        }

        .gemini-balance-amount {
            font-size: 2rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 0.5rem;
        }

        .gemini-balance-subtitle {
            font-size: 0.875rem;
            color: #a0aec0;
        }

        .gemini-form-group {
            margin-bottom: 1.5rem;
        }

        .gemini-form-label {
            display: block;
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 0.5rem;
        }

        .gemini-slider-container {
            position: relative;
            margin: 1rem 0;
        }

        .gemini-amount-display {
            text-align: center;
            font-size: 1.25rem;
            font-weight: bold;
            color: var(--pesapocket-green);
            margin-bottom: 1rem;
        }

        .gemini-slider {
            width: 100%;
            height: 6px;
            background: #e2e8f0;
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }

        .gemini-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: var(--pesapocket-green);
            border-radius: 50%;
            cursor: pointer;
        }

        .gemini-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: var(--pesapocket-green);
            border-radius: 50%;
            cursor: pointer;
            border: none;
        }

        .gemini-fee-breakdown {
            background: #f7fafc;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
        }

        .gemini-fee-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }

        .gemini-fee-row:last-child {
            margin-bottom: 0;
            font-weight: bold;
            font-size: 1rem;
            padding-top: 0.5rem;
            border-top: 1px solid #e2e8f0;
        }

        .gemini-btn-primary {
            background: linear-gradient(135deg, var(--pesapocket-green), var(--pesapocket-green-cta-end));
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
        }

        .gemini-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(42, 97, 60, 0.4);
        }
        
        .gemini-whatsapp-highlight {
            background: linear-gradient(135deg, #25d366, #128c7e);
            color: white;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            margin-top: 1.5rem;
        }

        .gemini-whatsapp-highlight strong {
            display: block;
            margin-bottom: 0.25rem;
        }

        .gemini-success-state {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .gemini-success-icon {
            width: 60px;
            height: 60px;
            background: #10b981;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            color: white;
            font-size: 1.5rem;
        }

        .gemini-success-title {
            color: #10b981;
            font-size: 1.25rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .gemini-success-message {
            color: #718096;
            font-size: 0.875rem;
        }
        /* === END OF GEMINI SALARY ADVANCE MOCKUP CSS === */

        /* === START OF INTERACTIVE WHATSAPP DEMO CSS === */
        .interactive-phone-mockup {
            position: relative;
            max-width: 320px;
            margin: 0 auto;
        }
        .interactive-phone-frame {
            background: #1f2937;
            border-radius: 25px;
            padding: 8px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        .interactive-phone-screen {
            background: var(--whatsapp-header-bg-claude);
            border-radius: 18px;
            height: 450px;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .interactive-whatsapp-header {
            background: var(--whatsapp-header-bg-claude);
            padding: 10px 15px;
            display: flex;
            align-items: center;
            color: white;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            flex-shrink: 0;
        }
        .interactive-bot-avatar {
            width: 40px;
            height: 40px;
            background: var(--whatsapp-send-button-bg-claude);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 1.2rem;
            flex-shrink: 0;
        }
        .interactive-bot-info h4 {
            margin: 0;
            font-size: 1rem;
            font-weight: 500;
        }
        .interactive-bot-info p {
            margin: 0;
            font-size: 0.8rem;
            opacity: 0.8;
        }
        .interactive-chat-area {
            flex-grow: 1;
            background: var(--whatsapp-bg-pattern-claude);
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .interactive-message {
            max-width: 80%;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.9rem;
            line-height: 1.4;
            position: relative;
            animation: slideIn 0.5s ease-out forwards;
        }
        .interactive-message.bot {
            background: white;
            align-self: flex-start;
            border-bottom-left-radius: 2px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        .interactive-message.user {
            background: var(--whatsapp-chat-bg-user-claude);
            align-self: flex-end;
            border-bottom-right-radius: 2px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        .interactive-message-time {
            font-size: 0.7rem;
            color: #667781;
            margin-top: 2px;
            text-align: right;
        }
        .interactive-typing-indicator {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            background: white;
            border-radius: 8px;
            border-bottom-left-radius: 2px;
            max-width: 80px;
            align-self: flex-start;
            animation: slideIn 0.5s ease-out forwards;
        }
        .interactive-typing-dots {
            display: flex;
            gap: 4px;
        }
        .interactive-typing-dot {
            width: 8px;
            height: 8px;
            background: #667781;
            border-radius: 50%;
            animation: typingDot 1.5s infinite;
        }
        .interactive-typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .interactive-typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes typingDot {
            0%, 60%, 100% { transform: scale(1); opacity: 0.5; }
            30% { transform: scale(1.2); opacity: 1; }
        }
        .interactive-quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }
        .interactive-quick-reply {
            background: var(--whatsapp-bot-option-bg-claude);
            border: 1px solid var(--whatsapp-bot-option-border-claude);
            color: var(--pesapocket-green);
            border-radius: 20px;
            padding: 6px 12px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .interactive-quick-reply:hover {
            background-color: #dcf8c6;
        }
        /* === END OF INTERACTIVE WHATSAPP DEMO CSS === */


        /* Custom Message Box */
        #custom-message-box {
            position: fixed;
            top: -100px; /* Start off-screen */
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--pesapocket-green);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 200;
            transition: top 0.5s ease-in-out;
            font-size: 14px;
        }
        #custom-message-box.show {
            top: 20px;
        }

    </style>
</head>
<body class="bg-white">

    <!-- Custom Message Box -->
    <div id="custom-message-box"></div>

    <!-- Navigation -->
    <nav id="navbar" class="navbar-transparent">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex-shrink-0">
                    <a href="#" aria-label="PesaPocket Home">
                        <img src="Pesa (1).png" alt="PesaPocket Logo" class="h-10 md:h-12">
                    </a>
                </div>
                <div class="hidden lg:flex items-center space-x-8">
                    <a href="#features" class="nav-link">Features</a>
                    <a href="#how-it-works" class="nav-link">How It Works</a>
                    <a href="#testimonials" class="nav-link">Testimonials</a>
                </div>
                <div class="hidden lg:flex items-center space-x-4">
                    <a href="#waitlist" class="pesapocket-gradient-button text-sm font-semibold px-5 py-2.5 rounded-full shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300">Join Waitlist</a>
                </div>
                <div class="lg:hidden">
                    <button id="mobile-menu-button" class="text-gray-700 hover:text-pesapocket-green focus:outline-none" aria-label="Open mobile menu">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden lg:hidden bg-white shadow-lg absolute w-full">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#features" class="block nav-link px-3 py-2 rounded-md text-base">Features</a>
                <a href="#how-it-works" class="block nav-link px-3 py-2 rounded-md text-base">How It Works</a>
                <a href="#testimonials" class="block nav-link px-3 py-2 rounded-md text-base">Testimonials</a>
            </div>
            <div class="pt-4 pb-3 border-t border-gray-200">
                <div class="px-5">
                   <a href="#waitlist" class="block w-full text-center pesapocket-gradient-button font-semibold px-7 py-3.5 rounded-full shadow-lg hover:shadow-xl hover:scale-105 transform transition-all duration-300 text-base">Join Waitlist</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <main>
        <section class="relative pt-24 pb-16 md:pt-32 md:pb-24 bg-jemhr-background-light overflow-hidden">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid lg:grid-cols-2 gap-12 items-center">
                    <div class="text-center lg:text-left">
                        <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-pesapocket-black mb-6">
                            Empowering African SMEs: <span class="text-pesapocket-yellow">Simple Finance & HR</span> Automation.
                        </h1>
                        <p class="text-lg md:text-xl text-gray-600 mb-10 max-w-xl mx-auto lg:mx-0">
                            PesaPocket streamlines your petty cash, expenses, leave, and more. Our WhatsApp bot keeps your deskless team connected. Currently in Beta â€“ be the first to experience the future!
                        </p>
                        <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                            <a href="#waitlist" class="inline-block font-semibold px-7 py-3.5 rounded-full shadow-lg hover:shadow-xl hover:scale-105 transform transition-all duration-300 text-lg pesapocket-gradient-button">Get Early Access</a>
                            <a href="#features" class="inline-block font-semibold px-7 py-3.5 rounded-full hover:shadow-lg transform hover:scale-105 transition-all duration-300 text-lg pesapocket-outline-button">Learn More</a>
                        </div>
                       <p class="mt-6 text-sm text-gray-500 text-center lg:text-left">Get early access and exclusive updates.</p>
                    </div>
                    <div class="relative lg:pl-10">
                        <!-- Interactive Hero WhatsApp Mockup -->
                        <div class="interactive-phone-mockup">
                            <div class="interactive-phone-frame">
                                <div class="interactive-phone-screen">
                                    <div class="interactive-whatsapp-header">
                                        <div class="interactive-bot-avatar"><i class="fab fa-whatsapp"></i></div>
                                        <div class="interactive-bot-info">
                                            <h4>PesaPocket Bot</h4>
                                            <p>Online</p>
                                        </div>
                                    </div>
                                    <div class="interactive-chat-area" id="heroChatArea">
                                        <!-- Initial messages will be populated by JS -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <header class="text-center mb-12 md:mb-16">
                    <h2 class="section-heading">All-In-One Solutions for Your Growing Business</h2>
                    <p class="section-subheading">Focus on growth, let PesaPocket handle the complexities of your daily finance and HR tasks.</p>
                </header>
                <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="feature-item-card" data-feature-name="Petty Cash Management">
                        <div class="icon-container"><i class="fas fa-wallet"></i></div>
                        <h3 class="text-xl font-semibold text-pesapocket-black mb-2">Petty Cash Management</h3>
                        <p class="text-gray-600 text-sm flex-grow">Effortlessly track and manage petty cash disbursements and reconciliations in real-time.</p>
                        <button class="btn-ai-explain">âœ¨ Explain with AI</button>
                    </div>
                    <div class="feature-item-card" data-feature-name="Expense Tracking">
                        <div class="icon-container"><i class="fas fa-receipt"></i></div>
                        <h3 class="text-xl font-semibold text-pesapocket-black mb-2">Expense Tracking</h3>
                        <p class="text-gray-600 text-sm flex-grow">Capture receipts, categorize expenses, and gain clear insights into your spending.</p>
                        <button class="btn-ai-explain">âœ¨ Explain with AI</button>
                    </div>
                    <div class="feature-item-card" data-feature-name="Leave Management">
                        <div class="icon-container"><i class="fas fa-calendar-alt"></i></div>
                        <h3 class="text-xl font-semibold text-pesapocket-black mb-2">Leave Management</h3>
                        <p class="text-gray-600 text-sm flex-grow">Simplify leave requests, approvals, and tracking for your entire team.</p>
                        <button class="btn-ai-explain">âœ¨ Explain with AI</button>
                    </div>
                    <div class="feature-item-card border-2 border-pesapocket-yellow" data-feature-name="WhatsApp-Integrated Bot">
                         <div class="w-12 h-12 rounded-lg bg-pesapocket-yellow bg-opacity-10 flex items-center justify-center mb-4">
                            <i class="fab fa-whatsapp text-2xl text-pesapocket-yellow"></i>
                        </div>
                        <h3 class="text-xl font-semibold text-pesapocket-black mb-2">WhatsApp-Integrated Bot</h3>
                        <p class="text-gray-600 text-sm flex-grow">Empower your deskless workers to manage tasks, request leave, and submit expenses via WhatsApp.</p>
                        <button class="btn-ai-explain">âœ¨ Explain with AI</button>
                    </div>
                </div>
                <!-- Updated "Coming Soon" section with Gemini Salary Advance Mockup -->
                 <div class="mt-16 md:mt-24 text-center">
                    <h3 class="text-2xl md:text-3xl font-semibold text-pesapocket-black mb-6">Exciting New Features Coming Soon!</h3>
                     <div class="w-full max-w-4xl mx-auto">
                        <div class="gemini-card-grid">
                            <!-- Advance Request Card -->
                            <div class="gemini-card">
                                <div id="gemini-request-form">
                                    <h3 class="gemini-card-title">Salary Advance</h3>
                                    
                                    <div class="gemini-balance-section">
                                        <div class="gemini-balance-label">Available for Advance</div>
                                        <div class="gemini-balance-amount">KSh <span id="availableBalance">15,750</span></div>
                                        <div class="gemini-balance-subtitle">Based on your earned salary this month</div>
                                    </div>

                                    <div class="gemini-form-group">
                                        <label class="gemini-form-label">Select Advance Amount</label>
                                        <div class="gemini-amount-display">KSh <span id="selectedAmount">5,000</span></div>
                                        <div class="gemini-slider-container">
                                            <input type="range" id="amountSlider" class="gemini-slider" min="1000" max="15750" value="5000" step="250">
                                        </div>
                                    </div>

                                    <div class="gemini-fee-breakdown">
                                        <div class="gemini-fee-row">
                                            <span>Advance Amount:</span>
                                            <span>KSh <span id="feeAmount">5,000</span></span>
                                        </div>
                                        <div class="gemini-fee-row">
                                            <span>Processing Fee (3%):</span>
                                            <span>KSh <span id="processingFee">150</span></span>
                                        </div>
                                        <div class="gemini-fee-row">
                                            <span>Amount to Receive:</span>
                                            <span>KSh <span id="netAmount">4,850</span></span>
                                        </div>
                                    </div>

                                    <button class="gemini-btn-primary" id="requestAdvanceBtn">
                                        Request Advance
                                    </button>
                                </div>

                                <div class="gemini-success-state" id="successState">
                                    <div class="gemini-success-icon">âœ“</div>
                                    <div class="gemini-success-title">Request Approved!</div>
                                    <div class="gemini-success-message">Your advance will be processed within 5 minutes. You'll receive a WhatsApp notification.</div>
                                </div>
                            </div>

                            <!-- Overview Card -->
                            <div class="gemini-card">
                                <h3 class="gemini-card-title">Your Overview</h3>
                                <div class="text-center md:text-left">
                                    <div class="inline-flex items-center bg-pesapocket-yellow text-pesapocket-black px-6 py-3 rounded-lg shadow-md mb-4">
                                        <i class="fas fa-money-bill-wave text-2xl mr-3"></i>
                                        <span class="text-lg font-medium">Salary Advances!</span>
                                    </div>
                                    <p class="text-gray-600 mt-2 mb-4">Access a portion of your earned salary before payday, directly through PesaPocket. Simple, transparent, and quick!</p>
                                    <p class="text-gray-600 font-semibold">Also Coming: Enhanced Payroll Solutions!</p>
                                    <p class="text-gray-600 mt-4">Join our waitlist to be the first to know when these powerful tools launch and help us build the future of SME financial management.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- How It Works -->
        <section id="how-it-works" class="py-16 md:py-24 bg-jemhr-background-light">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <header class="text-center mb-12 md:mb-16">
                    <h2 class="section-heading">Get Started with PesaPocket in Minutes</h2>
                    <p class="section-subheading">Automating your finance and HR is easier than you think. Our simple three-step process gets you up and running quickly.</p>
                </header>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="text-center p-6">
                        <div class="flex items-center justify-center w-16 h-16 rounded-full bg-pesapocket-green text-white text-2xl font-bold mx-auto mb-6 shadow-md">1</div>
                        <h3 class="text-xl font-semibold text-pesapocket-black mb-3">Sign Up for Beta</h3>
                        <p class="text-gray-600 text-sm">Join our exclusive waitlist to get early access to the PesaPocket platform and start shaping its future.</p>
                    </div>
                    <div class="text-center p-6">
                        <div class="flex items-center justify-center w-16 h-16 rounded-full bg-pesapocket-green text-white text-2xl font-bold mx-auto mb-6 shadow-md">2</div>
                        <h3 class="text-xl font-semibold text-pesapocket-black mb-3">Onboard Your Team</h3>
                        <p class="text-gray-600 text-sm">Easily set up your company profile, add employees, and configure your preferences in a few simple steps.</p>
                    </div>
                    <div class="text-center p-6">
                        <div class="flex items-center justify-center w-16 h-16 rounded-full bg-pesapocket-green text-white text-2xl font-bold mx-auto mb-6 shadow-md">3</div>
                        <h3 class="text-xl font-semibold text-pesapocket-black mb-3">Automate & Thrive</h3>
                        <p class="text-gray-600 text-sm">Experience streamlined operations, real-time insights, and more time to focus on your core business growth.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Enhanced WhatsApp Integration Section -->
        <section id="whatsapp-interactive-section" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid lg:grid-cols-2 gap-12 items-center">
                     <div class="order-1 lg:order-2 text-center lg:text-left">
                        <h2 class="text-3xl md:text-4xl font-bold text-pesapocket-black mb-5">Your Business, Now on WhatsApp!</h2>
                        <p class="text-lg text-gray-600 mb-6">
                            PesaPocketâ€™s intelligent WhatsApp bot allows your field teams to interact with HR and finance systems effortlessly. Request salary advances, check leave balances, and more!
                        </p>
                        <ul class="space-y-3 text-gray-600 mb-8 text-left inline-block">
                            <li class="flex items-center"><i class="fas fa-check-circle text-pesapocket-green mr-3 text-xl"></i> Request salary advances instantly</li>
                            <li class="flex items-center"><i class="fas fa-check-circle text-pesapocket-green mr-3 text-xl"></i> Check advance eligibility and limits</li>
                            <li class="flex items-center"><i class="fas fa-check-circle text-pesapocket-green mr-3 text-xl"></i> Get instant notifications and updates</li>
                            <li class="flex items-center"><i class="fas fa-check-circle text-pesapocket-green mr-3 text-xl"></i> Perfect for deskless workers</li>
                        </ul>
                        <div class="mt-6">
                             <a href="#waitlist" class="inline-block font-semibold px-7 py-3.5 rounded-full shadow-lg hover:shadow-xl hover:scale-105 transform transition-all duration-300 text-base salary-advance-action-button-main-page">Explore WhatsApp Bot</a>
                        </div>
                    </div>
                    <div class="order-2 lg:order-1 relative lg:pr-10">
                        <div class="interactive-phone-mockup">
                            <div class="interactive-phone-frame">
                                <div class="interactive-phone-screen">
                                    <div class="interactive-whatsapp-header">
                                        <div class="interactive-bot-avatar">ðŸ¤–</div>
                                        <div class="interactive-bot-info">
                                            <h4>PesaPocket Bot</h4>
                                            <p>Online</p>
                                        </div>
                                    </div>
                                    <div class="interactive-chat-area" id="interactiveChatArea">
                                        <!-- Initial messages populated by JS -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonials" class="py-16 md:py-24 bg-jemhr-background-light">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <header class="text-center mb-12 md:mb-16">
                    <h2 class="section-heading">Hear From Early Adopters</h2>
                    <p class="section-subheading">Discover how PesaPocket is transforming SME operations in Kenya and beyond.</p>
                </header>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white p-8 rounded-xl shadow-lg flex flex-col">
                        <i class="fas fa-quote-left text-3xl text-pesapocket-yellow mb-4"></i>
                        <p class="text-gray-600 italic mb-6 flex-grow">"PesaPocket has revolutionized how we manage petty cash. The WhatsApp bot is a game-changer for our field team!"</p>
                        <div>
                            <div class="font-semibold text-pesapocket-black">Aisha K.</div>
                            <div class="text-sm text-gray-500">CEO, Nairobi Creative Solutions</div>
                        </div>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-lg flex flex-col">
                        <i class="fas fa-quote-left text-3xl text-pesapocket-yellow mb-4"></i>
                        <p class="text-gray-600 italic mb-6 flex-grow">"Tracking expenses used to be a nightmare. With PesaPocket, it's seamless and gives us great visibility into our spending."</p>
                        <div>
                            <div class="font-semibold text-pesapocket-black">Brian M.</div>
                            <div class="text-sm text-gray-500">Owner, KaziLink Logistics</div>
                        </div>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-lg flex flex-col">
                         <i class="fas fa-quote-left text-3xl text-pesapocket-yellow mb-4"></i>
                        <p class="text-gray-600 italic mb-6 flex-grow">"The leave management system is so easy to use. Our employees love it, and it saves our HR so much time. Can't wait for salary advances!"</p>
                        <div>
                            <div class="font-semibold text-pesapocket-black">Fatuma H.</div>
                            <div class="text-sm text-gray-500">HR Manager, Baraka Feeds Ltd.</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Waitlist CTA Section -->
        <section id="waitlist" class="py-16 md:py-24 bg-pesapocket-green text-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="max-w-2xl mx-auto text-center">
                    <h2 class="text-3xl md:text-4xl font-bold mb-6">Be the First to Experience PesaPocket!</h2>
                    <p class="text-lg text-gray-200 mb-10">
                        Join our beta program for early access to PesaPocket and help shape the future of SME finance and HR automation in Africa. Get exclusive updates and be part of our growing community.
                    </p>
                    <div class="bg-white text-gray-800 p-8 sm:p-10 rounded-xl shadow-2xl">
                        <form action="#" method="POST" class="space-y-6">
                            <div>
                                <label for="waitlist-name" class="sr-only">Full Name</label>
                                <input type="text" name="waitlist-name" id="waitlist-name" required placeholder="Full Name"
                                       class="block w-full px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-pesapocket-yellow focus:border-pesapocket-yellow placeholder-gray-400">
                            </div>
                            <div>
                                <label for="waitlist-email" class="sr-only">Email Address</label>
                                <input type="email" name="waitlist-email" id="waitlist-email" required placeholder="Email Address"
                                       class="block w-full px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-pesapocket-yellow focus:border-pesapocket-yellow placeholder-gray-400">
                            </div>
                            <div>
                                <label for="waitlist-company" class="sr-only">Company Name</label>
                                <input type="text" name="waitlist-company" id="waitlist-company" placeholder="Company Name (Optional)"
                                       class="block w-full px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-pesapocket-yellow focus:border-pesapocket-yellow placeholder-gray-400">
                            </div>
                             <div>
                                <label for="waitlist-role" class="sr-only">Your Role</label>
                                <input type="text" name="waitlist-role" id="waitlist-role" placeholder="Your Role (Optional)"
                                       class="block w-full px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-pesapocket-yellow focus:border-pesapocket-yellow placeholder-gray-400">
                            </div>
                            <div>
                                <button type="submit" class="w-full inline-block font-bold px-7 py-3.5 rounded-lg shadow-md hover:shadow-lg hover:brightness-105 transform transition-all duration-300 text-lg salary-advance-action-button-main-page">
                                    Join Waitlist & Get Early Access
                                </button>
                            </div>
                            <p class="text-xs text-gray-500">
                                We respect your privacy. By joining, you agree to receive updates about PesaPocket.
                            </p>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- AI Explanation Modal -->
    <div id="ai-explanation-modal" class="modal-overlay hidden opacity-0">
        <div class="modal-container bg-white p-6 rounded-lg shadow-xl max-w-lg w-11/12 md:w-full">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-title" class="text-xl font-semibold text-pesapocket-black">Feature Explanation</h3>
                <button id="modal-close-button" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="modal-content" class="text-gray-700 text-sm min-h-[100px]">
                 <div id="modal-loading-indicator" class="flex justify-center items-center h-full hidden">
                    <div class="spinner"></div>
                    <p class="ml-3 text-gray-600">Generating explanation...</p>
                </div>
                <p id="modal-explanation-text"></p>
            </div>
        </div>
    </div>


    <!-- Footer -->
    <footer class="bg-pesapocket-black text-gray-400">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-12">
                <div>
                    <img src="Pesa (1).png" alt="PesaPocket Logo" class="h-10 mb-4">
                    <p class="text-sm">Simplifying Finance & HR for African SMEs.</p>
                </div>
                <div>
                    <h5 class="text-sm font-semibold text-gray-200 uppercase tracking-wider mb-4">Product</h5>
                    <ul class="space-y-3">
                        <li><a href="#features" class="hover:text-pesapocket-yellow transition-colors text-sm">Features</a></li>
                        <li><a href="#how-it-works" class="hover:text-pesapocket-yellow transition-colors text-sm">How It Works</a></li>
                        <li><a href="#waitlist" class="hover:text-pesapocket-yellow transition-colors text-sm">Join Beta</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="text-sm font-semibold text-gray-200 uppercase tracking-wider mb-4">Company</h5>
                    <ul class="space-y-3">
                        <li><a href="#" class="hover:text-pesapocket-yellow transition-colors text-sm">About Us (Coming Soon)</a></li>
                        <li><a href="#" class="hover:text-pesapocket-yellow transition-colors text-sm">Blog (Coming Soon)</a></li>
                        <li><a href="#waitlist" class="hover:text-pesapocket-yellow transition-colors text-sm">Contact Us</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="text-sm font-semibold text-gray-200 uppercase tracking-wider mb-4">Connect</h5>
                    <div class="flex space-x-5">
                        <a href="#" class="hover:text-pesapocket-yellow transition-colors" aria-label="Facebook"><i class="fab fa-facebook-f text-lg"></i></a>
                        <a href="#" class="hover:text-pesapocket-yellow transition-colors" aria-label="Twitter"><i class="fab fa-twitter text-lg"></i></a>
                        <a href="#" class="hover:text-pesapocket-yellow transition-colors" aria-label="LinkedIn"><i class="fab fa-linkedin-in text-lg"></i></a>
                        <a href="#" class="hover:text-pesapocket-yellow transition-colors" aria-label="Instagram"><i class="fab fa-instagram text-lg"></i></a>
                    </div>
                   <p class="text-sm mt-4">Nairobi, Kenya.</p>
                </div>
            </div>
            <div class="border-t border-gray-700 pt-8 text-center md:text-left">
                <p class="text-sm">&copy; <span id="current-year"></span> PesaPocket. All rights reserved.</p>
                <p class="text-xs mt-1">PesaPocket is currently in beta. Features and services are subject to change.</p>
            </div>
        </div>
    </footer>

    <script>
        // --- Custom Message Box Logic ---
        function showCustomMessage(message) {
            const messageBox = document.getElementById('custom-message-box');
            if (!messageBox) return;

            messageBox.textContent = message;
            messageBox.classList.add('show');

            // Hide the message box after 4 seconds
            setTimeout(() => {
                messageBox.classList.remove('show');
            }, 4000);
        }

        // --- Navbar scroll effect ---
        const navbar = document.getElementById('navbar');
        window.onscroll = function() {
            if (navbar) { 
                if (window.pageYOffset > 50) {
                    navbar.classList.remove('navbar-transparent');
                    navbar.classList.add('navbar-sticky');
                } else {
                    navbar.classList.remove('navbar-sticky');
                    navbar.classList.add('navbar-transparent');
                }
            }
        };

        // --- Mobile menu toggle ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        if (mobileMenuButton && mobileMenu) {
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        }

        // --- Smooth scroll for anchor links & close mobile menu ---
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
                if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.add('hidden');
                }
            });
        });

        // --- Set current year in footer ---
        const currentYearEl = document.getElementById('current-year');
        if (currentYearEl) {
            currentYearEl.textContent = new Date().getFullYear();
        }

        // --- Gemini AI Feature Explanation Logic ---
        const aiExplainButtons = document.querySelectorAll('.btn-ai-explain');
        const modalOverlay = document.getElementById('ai-explanation-modal');
        const modalTitleElement = document.getElementById('modal-title'); 
        const modalExplanationText = document.getElementById('modal-explanation-text');
        const modalLoadingIndicator = document.getElementById('modal-loading-indicator');
        const modalCloseButton = document.getElementById('modal-close-button');

        function showModal() {
            if (modalOverlay) {
                modalOverlay.classList.remove('hidden');
                setTimeout(() => modalOverlay.classList.add('active'), 10); 
            }
        }

        function hideModal() {
            if (modalOverlay) {
                modalOverlay.classList.remove('active');
                setTimeout(() => modalOverlay.classList.add('hidden'), 300); 
            }
        }
        
        if (modalCloseButton) {
            modalCloseButton.addEventListener('click', hideModal);
        }
        if (modalOverlay) {
            modalOverlay.addEventListener('click', (event) => {
                if (event.target === modalOverlay) { 
                    hideModal();
                }
            });
        }

        aiExplainButtons.forEach(button => {
            button.addEventListener('click', async () => {
                const featureCard = button.closest('.feature-item-card');
                const featureName = featureCard.dataset.featureName;

                if (!featureName) {
                    console.error('Feature name not found for AI explanation.');
                    if (modalExplanationText) modalExplanationText.textContent = 'Could not determine the feature to explain.';
                    if(modalLoadingIndicator) modalLoadingIndicator.classList.add('hidden');
                    if(modalTitleElement) modalTitleElement.textContent = 'Error';
                    showModal();
                    return;
                }

                if(modalTitleElement) modalTitleElement.textContent = "AI Explanation: " + featureName;
                if(modalExplanationText) modalExplanationText.textContent = ''; 
                if(modalLoadingIndicator) modalLoadingIndicator.classList.remove('hidden');
                showModal();
                
                const prompt = 'You are a helpful assistant for PesaPocket, a finance and HR automation tool for African SMEs. Explain the key benefits of "' + featureName + '" for a small or medium-sized business in Africa. Focus on simplicity, efficiency, and control. Keep the explanation to 2-4 concise sentences, formatted as a single paragraph.';
                
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };
                const apiKey = ""; // API Key is intentionally left blank
                const apiUrl = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=' + apiKey;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        console.error('Gemini API Error:', errorData);
                        let apiDetailMessage = 'Unknown API error';
                        if (errorData && errorData.error && errorData.error.message) {
                            apiDetailMessage = errorData.error.message;
                        }
                        const fullApiErrorMessage = "API request failed with status " + response.status + ": " + apiDetailMessage;
                        throw new Error(fullApiErrorMessage);
                    }

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        if(modalExplanationText) modalExplanationText.innerHTML = text.replace(/\n/g, '<br>');
                    } else {
                        console.error('Unexpected response structure from Gemini API:', result);
                        if(modalExplanationText) modalExplanationText.textContent = 'Sorry, I could not generate an explanation at this time. The response from the AI was not as expected.';
                    }
                } catch (error) {
                    console.error('Error calling Gemini API:', error);
                    let errorToDisplay = 'Sorry, an error occurred. This feature requires a valid API key to be configured.';
                     if (error && error.message) {
                        console.error('Specific error detail for display consideration:', error.message);
                        if (error.message.includes("API key not valid")) {
                           errorToDisplay = 'This AI feature is for demonstration only. A valid API key is needed for it to work.';
                        }
                    }
                    if(modalExplanationText) modalExplanationText.textContent = errorToDisplay;
                } finally {
                    if(modalLoadingIndicator) modalLoadingIndicator.classList.add('hidden');
                }
            });
        });
        
        // --- Gemini Salary Advance Mockup JS ---
        const slider = document.getElementById('amountSlider');
        const selectedAmount = document.getElementById('selectedAmount');
        const feeAmount = document.getElementById('feeAmount');
        const processingFee = document.getElementById('processingFee');
        const netAmount = document.getElementById('netAmount');

        if (slider) {
            slider.addEventListener('input', function() {
                const amount = parseInt(this.value);
                const fee = Math.round(amount * 0.03);
                const net = amount - fee;

                selectedAmount.textContent = amount.toLocaleString();
                feeAmount.textContent = amount.toLocaleString();
                processingFee.textContent = fee.toLocaleString();
                netAmount.textContent = net.toLocaleString();
            });
            // Trigger on load
            slider.dispatchEvent(new Event('input'));
        }

        const requestAdvanceBtn = document.getElementById('requestAdvanceBtn');
        if(requestAdvanceBtn) {
            requestAdvanceBtn.addEventListener('click', function() {
                const form = document.getElementById('gemini-request-form');
                const successState = document.getElementById('successState');
                
                // Show loading state
                this.textContent = 'Processing Request...';
                this.disabled = true;
                this.style.opacity = '0.7';

                // Simulate processing time
                setTimeout(() => {
                    form.style.display = 'none';
                    successState.style.display = 'block';

                    // Reset after 4 seconds
                    setTimeout(() => {
                        successState.style.display = 'none';
                        form.style.display = 'block';
                        this.textContent = 'Request Advance';
                        this.disabled = false;
                        this.style.opacity = '1';
                    }, 4000);
                }, 2000);
            });
        }
        // --- End of Gemini Salary Advance Mockup JS ---
        
        // --- Interactive WhatsApp Demo JS (Functions for both mockups) ---
        function addInteractiveMessage(chatArea, type, text, quickReplies = []) {
            const messageEl = document.createElement('div');
            messageEl.className = `interactive-message ${type}`;
            
            let messageHTML = text;
            if (quickReplies.length > 0) {
                messageHTML += `<div class="interactive-quick-replies">`;
                quickReplies.forEach(reply => {
                    messageHTML += `<div class="interactive-quick-reply" onclick="${reply.action}">${reply.text}</div>`;
                });
                messageHTML += `</div>`;
            }
            messageHTML += `<div class="interactive-message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>`;

            messageEl.innerHTML = messageHTML;
            chatArea.appendChild(messageEl);
            chatArea.scrollTop = chatArea.scrollHeight;
        }

        function addTypingIndicator(chatArea) {
            const typingEl = document.createElement('div');
            typingEl.className = 'interactive-typing-indicator';
            typingEl.innerHTML = `<div class="interactive-typing-dots"><div class="interactive-typing-dot"></div><div class="interactive-typing-dot"></div><div class="interactive-typing-dot"></div></div>`;
            chatArea.appendChild(typingEl);
            chatArea.scrollTop = chatArea.scrollHeight;
            return typingEl;
        }

        // --- Logic for Hero WhatsApp Mockup ---
        const heroChatArea = document.getElementById('heroChatArea');
        function hero_checkPettyCash() {
            addInteractiveMessage(heroChatArea, 'user', 'Check petty cash balance');
            const typing = addTypingIndicator(heroChatArea);
            setTimeout(() => {
                typing.remove();
                addInteractiveMessage(heroChatArea, 'bot', 'ðŸ’° Your petty cash balance is KSh 1,250.');
            }, 1500);
        }

        function hero_submitExpense() {
             addInteractiveMessage(heroChatArea, 'user', 'Submit expense report');
            const typing = addTypingIndicator(heroChatArea);
            setTimeout(() => {
                typing.remove();
                addInteractiveMessage(heroChatArea, 'bot', 'Okay, please upload a photo of your receipt.');
            }, 1500);
        }

        function hero_requestLeave() {
             addInteractiveMessage(heroChatArea, 'user', 'Request leave');
            const typing = addTypingIndicator(heroChatArea);
            setTimeout(() => {
                typing.remove();
                addInteractiveMessage(heroChatArea, 'bot', 'Sure, what dates are you requesting off?');
            }, 1500);
        }
        
        // Initialize Hero Chat
        if(heroChatArea) {
            addInteractiveMessage(heroChatArea, 'bot', 'Welcome to PesaPocket! I\'m here to help you with:', [
                { text: 'ðŸ’° Check petty cash balance', action: 'hero_checkPettyCash()' },
                { text: 'ðŸ“„ Submit expense report', action: 'hero_submitExpense()' },
                { text: 'ðŸ–ï¸ Request leave', action: 'hero_requestLeave()' }
            ]);
        }


        // --- Logic for Main WhatsApp Demo ---
        const interactiveChatArea = document.getElementById('interactiveChatArea');

        function startSalaryAdvance() {
            addInteractiveMessage(interactiveChatArea, 'user', 'Request Salary Advance');
            const typing = addTypingIndicator(interactiveChatArea);
            setTimeout(() => {
                typing.remove();
                addInteractiveMessage(interactiveChatArea, 'bot', 'Great news! You are eligible for an advance of up to KSh 15,750. How much would you like?', [
                    { text: 'KSh 5,000', action: 'selectAdvance(5000)' },
                    { text: 'KSh 10,000', action: 'selectAdvance(10000)' },
                    { text: 'Other Amount', action: 'selectAdvance(0)' }
                ]);
            }, 1500);
        }

        function showPettyCash() {
             addInteractiveMessage(interactiveChatArea, 'user', 'Check Petty Cash');
            const typing = addTypingIndicator(interactiveChatArea);
            setTimeout(() => {
                typing.remove();
                addInteractiveMessage(interactiveChatArea, 'bot', 'Your current petty cash balance is KSh 1,250.');
            }, 1500);
        }

        function selectAdvance(amount) {
            if (amount > 0) {
                addInteractiveMessage(interactiveChatArea, 'user', `KSh ${amount.toLocaleString()}`);
                const typing = addTypingIndicator(interactiveChatArea);
                 setTimeout(() => {
                    typing.remove();
                    const fee = Math.round(amount * 0.03);
                    const net = amount - fee;
                    addInteractiveMessage(interactiveChatArea, 'bot', `Your advance of KSh ${amount.toLocaleString()} is approved! You'll receive KSh ${net.toLocaleString()} after a KSh ${fee.toLocaleString()} fee. Funds will be sent within 5 minutes. ðŸŽ‰`);
                }, 2000);
            } else {
                addInteractiveMessage(interactiveChatArea, 'user', 'Other Amount');
                const typing = addTypingIndicator(interactiveChatArea);
                setTimeout(() => {
                    typing.remove();
                    addInteractiveMessage(interactiveChatArea, 'bot', 'Okay, please type the amount you need.');
                }, 1500);
            }
        }
        
        // Initialize Main Demo Chat
        if(interactiveChatArea) {
             addInteractiveMessage(interactiveChatArea, 'bot', 'Hi! I\'m your PesaPocket assistant. How can I help you today?', [
                { text: 'Request Salary Advance', action: 'startSalaryAdvance()' },
                { text: 'Check Petty Cash', action: 'showPettyCash()' }
             ]);
        }

    </script>
</body>
</html>
